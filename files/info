ssh ubuntu@192.168.114.4 -i ~/wso2/apim/3.1.0/ansible-apim/files/keys/apim310.key


ssh ubuntu@tm.apim.com -i files/keys/apim310.key
ssh ubuntu@gw.apim.com -i files/keys/apim310.key
ssh ubuntu@km.apim.com -i files/keys/apim310.key
ssh ubuntu@pub.apim.com -i files/keys/apim310.key
ssh ubuntu@dev.apim.com -i files/keys/apim310.key
ssh ubuntu@analytics.apim.com -i files/keys/apim310.key


keytool -genkey -alias wso2carbon -keyalg RSA -keysize 2048 -keystore wso2carbon.jks -dname "CN=*.apimha.com, OU=Home,O=Home,L=SL,S=WS,C=LK" \
-storepass wso2carbon -keypass wso2carbon \
-ext SAN=dns:portals.apimha.com,dns:apis.apimha.com,dns:tm1.apimha.com,dns:km1.apimha.com,dns:pub1.apimha.com,dns:dev1.apimha.com,dns:gw1.apimha.com,dns:analytics1.apimha.com,dns:tm2.apimha.com,dns:km2.apimha.com,dns:pub2.apimha.com,dns:dev2.apimha.com,dns:gw2.apimha.com,dns:analytics2.apimha.com,dns:node1.apimha.com,dns:node2.apimha.com,dns:tmlb.apimha.com,dns:kmlb.apimha.com,dns:gwlb.apimha.com,ip:127.0.0.1 \
-ext KeyUsage=digitalSignature,keyEncipherment,keyCertSign -ext ExtendedKeyUsage=serverAuth,clientAuth

keytool -export -alias wso2carbon -keystore wso2carbon.jks -file wso2carbon.pem -storepass wso2carbon

keytool -list -v -keystore wso2carbon.jks
keytool -delete -alias wso2carbon -keystore client-truststore.jks -storepass wso2carbon
keytool -delete -alias gateway_certificate_alias -keystore client-truststore.jks -storepass wso2carbon

keytool -import -alias wso2carbon -file wso2carbon.pem -keystore client-truststore.jks -storepass wso2carbon
keytool -import -alias gateway_certificate_alias -file wso2carbon.pem -keystore client-truststore.jks -storepass wso2carbon

-- keytool -export -alias wso2carbon -keystore wso2carbon.jks -rfc -file wso2carbon.crt -storepass wso2carbon

-- keytool -importkeystore -srckeystore wso2carbon.jks -destkeystore wso2carbon.p12 -deststoretype PKCS12 -storepass wso2carbon
-- openssl pkcs12 -in wso2carbon.p12 -nocerts -nodes > wso2carbon.key

/home/ubuntu/ansible-apim/files/security/wso2am/wso2carbon.p12
/home/ubuntu/ansible-apim/files/security/wso2am/wso2carbon.pem


https://analytics.apim.com:9643/analytics-dashboard/


/home/ubuntu/ansible-apim/files/packs/wso2am-3.1.0-beta

https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-18-04
https://linuxize.com/post/how-to-setup-a-firewall-with-ufw-on-ubuntu-18-04/

https://www.cyberciti.biz/faq/install-and-configure-nginx-on-ubuntu-linux-18-04-lts/
https://www.linode.com/docs/web-servers/nginx/install-nginx-ubuntu/


export JAVA_HOME=/opt/jdk1.8.0_161/
export PATH=$JAVA_HOME/bin:$PATH

https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#installing-ansible-on-ubuntu
ansible-playbook -i dev site.yml

Add to /etc/hosts
203.94.95.174   apis.apim.com
203.94.95.174   portals.apim.com

Access Portals
https://portals.apim.com/publisher/apis
https://portals.apim.com/devportal/apis


dns:db.apimha.com
dns:portals.apimha.com,dns:apis.apimha.com,dns:tm1.apimha.com,dns:km1.apimha.com,dns:pub1.apimha.com,dns:dev1.apimha.com,dns:gw1.apimha.com,dns:analytics1.apimha.com,dns:tm2.apimha.com,dns:km2.apimha.com,dns:pub2.apimha.com,dns:dev2.apimha.com,dns:gw2.apimha.com,dns:analytics2.apimha.com,dns:node1.apimha.com,dns:node2.apimha.com,dns:tmlb.apimha.com,dns:kmlb.apimha.com,dns:gwlb.apimha.com

